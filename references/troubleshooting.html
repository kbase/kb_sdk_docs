<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Troubleshooting Guide &mdash; KBase SDK 1.2.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="../_static/css/custom.css?v=28f99aa0" />

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js?v=5d32c60e"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../_static/documentation_options.js?v=6efca38a"></script>
        <script src="../_static/doctools.js?v=9a2dae69"></script>
        <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Developer Guidelines" href="dev_guidelines.html" />
    <link rel="prev" title="Design Checklist" href="design_checklist.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            KBase SDK
              <img src="../_static/logo.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                1.2
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Intro</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../overview.html">Concepts and Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../video_tutorial.html">Video Tutorial</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Tutorial</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/1_dependencies.html">1. Dependencies &amp; Prerequisites</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/2_install.html">2. Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/3_initialize.html">3. Initialize the Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/4_helloworld.html">4. Hello World Example</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/5_setup.html">5. ContigFilter Example</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/6_inputsoutputs.html">6. Narrative User Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/7_implement.html">7. Implement Code</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/8_publish.html">8. Publish and Update</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Developer Guides</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="questions_and_answers.html">Common Questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../howtos/create_a_report.html">Creating reports</a></li>
<li class="toctree-l1"><a class="reference internal" href="../howtos/add_ui_elements.html">Adding UI Elements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../howtos/edit_your_dockerfile.html">Editing your app’s Dockerfile</a></li>
<li class="toctree-l1"><a class="reference internal" href="../howtos/fill_out_app_information.html">Fully documenting your app</a></li>
<li class="toctree-l1"><a class="reference internal" href="../howtos/run_a_shell_command.html">Running shell commands</a></li>
<li class="toctree-l1"><a class="reference internal" href="../howtos/file_utils.html">Working with the file utils</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Advanced Guides</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../howtos/workspace.html">Using Workspace Metadata</a></li>
<li class="toctree-l1"><a class="reference internal" href="../howtos/manual_build.html">Manually building the SDK</a></li>
<li class="toctree-l1"><a class="reference internal" href="../howtos/work_with_reference_data.html">Working with reference data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../howtos/job_manager.html">Listing and viewing jobs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../howtos/dynamic_services.html">Dynamic Services</a></li>
<li class="toctree-l1"><a class="reference internal" href="../howtos/update_to_py3.html">Updating a module to Python3</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">References &amp; Resources</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="design_checklist.html">Design Checklist</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Troubleshooting Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="dev_guidelines.html">Developer Guidelines</a></li>
<li class="toctree-l1"><a class="reference internal" href="execution_engine.html">Job Execution</a></li>
<li class="toctree-l1"><a class="reference internal" href="module_anatomy.html">Anatomy of a Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="KIDL_spec.html">KIDL Specification</a></li>
<li class="toctree-l1"><a class="reference internal" href="UI_spec.html">Narrative App UI Specification</a></li>
<li class="toctree-l1"><a class="reference internal" href="terminology.html">Terminology</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">KBase SDK</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Troubleshooting Guide</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/kbase/kb_sdk_docs/blob/blob/master/source/references/troubleshooting.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="troubleshooting-guide">
<h1><a class="toc-backref" href="#id2" role="doc-backlink">Troubleshooting Guide</a><a class="headerlink" href="#troubleshooting-guide" title="Link to this heading"></a></h1>
<nav class="contents" id="contents">
<p class="topic-title">Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#troubleshooting-guide" id="id2">Troubleshooting Guide</a></p>
<ul>
<li><p><a class="reference internal" href="#trying-to-run-make-sdkbase-and-seeing-errors-that-include-tls-enabled-daemon-and-or-docker-daemon" id="id3">Trying to run <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">sdkbase</span></code> and seeing errors that include <code class="docutils literal notranslate"><span class="pre">TLS-enabled</span> <span class="pre">daemon</span></code> and/or <code class="docutils literal notranslate"><span class="pre">docker</span> <span class="pre">daemon</span></code></a></p></li>
<li><p><a class="reference internal" href="#my-code-keeps-disappearing-what-happened-to-it" id="id4">My code keeps disappearing. What happened to it?</a></p></li>
<li><p><a class="reference internal" href="#having-trouble-getting-docker-working-on-mac" id="id5">Having trouble getting Docker working on Mac</a></p></li>
<li><p><a class="reference internal" href="#having-trouble-getting-docker-working-on-linux" id="id6">Having trouble getting Docker working on Linux</a></p></li>
<li><p><a class="reference internal" href="#getting-java-related-errors-trying-to-run-kb-sdk" id="id7">Getting Java-related errors trying to run kb-sdk</a></p></li>
<li><p><a class="reference internal" href="#my-report-isn-t-generating-output-correctly" id="id8">My report isn’t generating output correctly</a></p></li>
<li><p><a class="reference internal" href="#getting-servererror-jsonrpcerror" id="id9">Getting “ServerError: JSONRPCError”</a></p></li>
<li><p><a class="reference internal" href="#unable-to-find-valid-certification" id="id10">Unable to find valid certification</a></p></li>
<li><p><a class="reference internal" href="#my-docker-instances-have-run-out-of-space" id="id11">My Docker instances have run out of space</a></p></li>
<li><p><a class="reference internal" href="#my-docker-container-ran-out-of-memory" id="id12">My Docker container ran out of memory</a></p></li>
<li><p><a class="reference internal" href="#error-messages-and-solutions" id="id13">Error Messages and Solutions</a></p>
<ul>
<li><p><a class="reference internal" href="#error-keyerror-getpwuid-uid-not-found" id="id14">Error: <code class="code docutils literal notranslate"><span class="pre">KeyError:</span> <span class="pre">'getpwuid()'</span> <span class="pre">uid</span> <span class="pre">not</span> <span class="pre">found</span></code></a></p>
<ul>
<li><p><a class="reference internal" href="#solution-modify-the-uid-in-the-test-scripts" id="id15">Solution: Modify the UID in the test scripts</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#error-can-t-find-image-test-your-module-name-latest" id="id16">Error: <code class="code docutils literal notranslate"><span class="pre">Can't</span> <span class="pre">find</span> <span class="pre">image</span> <span class="pre">[test/&lt;your_module_name&gt;:latest]</span></code></a></p>
<ul>
<li><p><a class="reference internal" href="#solution-fix-docker-daemon-socket-permissions" id="id17">Solution: Fix Docker Daemon Socket Permissions</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#error-client-version-1-23-is-too-old" id="id18">Error: client version 1.23 is too old.</a></p>
<ul>
<li><p><a class="reference internal" href="#solution-downgrade-to-a-supported-docker-desktop-version" id="id19">Solution: Downgrade to a supported Docker Desktop version</a></p></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
<section id="trying-to-run-make-sdkbase-and-seeing-errors-that-include-tls-enabled-daemon-and-or-docker-daemon">
<h2><a class="toc-backref" href="#id3" role="doc-backlink">Trying to run <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">sdkbase</span></code> and seeing errors that include <code class="docutils literal notranslate"><span class="pre">TLS-enabled</span> <span class="pre">daemon</span></code> and/or <code class="docutils literal notranslate"><span class="pre">docker</span> <span class="pre">daemon</span></code></a><a class="headerlink" href="#trying-to-run-make-sdkbase-and-seeing-errors-that-include-tls-enabled-daemon-and-or-docker-daemon" title="Link to this heading"></a></h2>
<p>When you try to run <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">sdkbase</span></code> if you see a message like:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>docker<span class="w"> </span>build<span class="w"> </span>-t<span class="w"> </span>kbase/kbase:sdkbase2.latest<span class="w"> </span>sdkbase
Post<span class="w"> </span>http:///var/run/docker.sock/v1.20/build?cgroupparent<span class="o">=</span><span class="p">&amp;</span><span class="nv">cpuperiod</span><span class="o">=</span><span class="m">0</span><span class="p">&amp;</span><span class="nv">cpuquota</span><span class="o">=</span><span class="m">0</span><span class="p">&amp;</span><span class="nv">cpusetcpus</span><span class="o">=</span><span class="p">&amp;</span><span class="nv">cpusetmems</span><span class="o">=</span><span class="p">&amp;</span><span class="nv">cpushares</span><span class="o">=</span><span class="m">0</span><span class="p">&amp;</span><span class="nv">dockerfile</span><span class="o">=</span>Dockerfile<span class="p">&amp;</span><span class="nv">memory</span><span class="o">=</span><span class="m">0</span><span class="p">&amp;</span><span class="nv">memswap</span><span class="o">=</span><span class="m">0</span><span class="p">&amp;</span><span class="nv">rm</span><span class="o">=</span><span class="m">1</span><span class="p">&amp;</span><span class="nv">t</span><span class="o">=</span>kbase%2Fkbase%3Asdkbase.latest<span class="p">&amp;</span><span class="nv">ulimits</span><span class="o">=</span>null:<span class="w"> </span>dial<span class="w"> </span>unix<span class="w"> </span>/var/run/docker.sock:<span class="w"> </span>no<span class="w"> </span>such<span class="w"> </span>file<span class="w"> </span>or<span class="w"> </span>directory.
*<span class="w"> </span>Are<span class="w"> </span>you<span class="w"> </span>trying<span class="w"> </span>to<span class="w"> </span>connect<span class="w"> </span>to<span class="w"> </span>a<span class="w"> </span>TLS-enabled<span class="w"> </span>daemon<span class="w"> </span>without<span class="w"> </span>TLS?
*<span class="w"> </span>Is<span class="w"> </span>your<span class="w"> </span>docker<span class="w"> </span>daemon<span class="w"> </span>up<span class="w"> </span>and<span class="w"> </span>running?
make:<span class="w"> </span>***<span class="w"> </span><span class="o">[</span>sdkbase<span class="o">]</span><span class="w"> </span>Error<span class="w"> </span><span class="m">1</span>
</pre></div>
</div>
<p>You likely have not started your Docker daemon. On a Mac, that means running in the Docker CLI shell after starting Docker Kitematic and clicking on “Docker CLI” in the lower left corner (See  <a href="../tutorial/install.html">Install SDK Dependencies - Docker </a> for guidance).</p>
</section>
<section id="my-code-keeps-disappearing-what-happened-to-it">
<h2><a class="toc-backref" href="#id4" role="doc-backlink">My code keeps disappearing. What happened to it?</a><a class="headerlink" href="#my-code-keeps-disappearing-what-happened-to-it" title="Link to this heading"></a></h2>
<p>Magic comments are comments that are used internally by the kbase_sdk in order to generate the implementation file when you make changes to the spec file.</p>
<p>Examples of magic comments include:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1">#BEGIN_HEADER</span>
<span class="c1"># (This is where your import statements go)</span>
<span class="c1">#END_HEADER</span>

<span class="c1">#BEGIN_CLASS_HEADER</span>
<span class="c1"># (This is where your class variables and functions go that you want imported)</span>
<span class="c1">#END_CLASS_HEADER</span>

<span class="c1">#BEGIN_CONSTRUCTOR</span>
<span class="c1"># (This is in your init statement for your class goes)</span>
<span class="c1">#END_CONSTRUCTOR</span>

<span class="c1">#BEGIN YourFunctionName1</span>
<span class="c1"># (This is where the implementation details of your functions go)</span>
<span class="c1">#END YourFunctionName1</span>
</pre></div>
</div>
<p>Any code created outside of the Magic Comments will not be included inside the final .impl implementation file.</p>
</section>
<section id="having-trouble-getting-docker-working-on-mac">
<h2><a class="toc-backref" href="#id5" role="doc-backlink">Having trouble getting Docker working on Mac</a><a class="headerlink" href="#having-trouble-getting-docker-working-on-mac" title="Link to this heading"></a></h2>
<p>It may be that your Docker installation may be incorrect, out of date,
or the daemon may not have been started. Please see <a href="https://docs.docker.com/mac/" target="_blank">https://docs.docker.com/mac/</a></p>
</section>
<section id="having-trouble-getting-docker-working-on-linux">
<h2><a class="toc-backref" href="#id6" role="doc-backlink">Having trouble getting Docker working on Linux</a><a class="headerlink" href="#having-trouble-getting-docker-working-on-linux" title="Link to this heading"></a></h2>
<p>It may be that your Docker installation may be incorrect, out of date,
or the daemon may not have been started. Please see <a href="https://docs.docker.com/linux/" target="_blank">https://docs.docker.com/linux/</a></p>
</section>
<section id="getting-java-related-errors-trying-to-run-kb-sdk">
<h2><a class="toc-backref" href="#id7" role="doc-backlink">Getting Java-related errors trying to run kb-sdk</a><a class="headerlink" href="#getting-java-related-errors-trying-to-run-kb-sdk" title="Link to this heading"></a></h2>
<p>Java may not be installed, or the path may not be set properly. Please follow the directions for installation of Java at <a href="https://github.com/kbase/kb_sdk/blob/master/doc/test_dependencies.md" target="_blank">https://github.com/kbase/kb_sdk/blob/master/doc/test_dependencies.md</a>  and then set your <em>JAVA_HOME</em> with</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span># for bash
export JAVA_HOME=`/usr/libexec/java_home`
# for tcsh/csh
setenv JAVA_HOME `/usr/libexec/java_home`
</pre></div>
</div>
</section>
<section id="my-report-isn-t-generating-output-correctly">
<h2><a class="toc-backref" href="#id8" role="doc-backlink">My report isn’t generating output correctly</a><a class="headerlink" href="#my-report-isn-t-generating-output-correctly" title="Link to this heading"></a></h2>
<p>See the guide on <a href="../howtos/create_a_report.html" target="_blank">Creating a report </a>.</p>
</section>
<section id="getting-servererror-jsonrpcerror">
<h2><a class="toc-backref" href="#id9" role="doc-backlink">Getting “ServerError: JSONRPCError”</a><a class="headerlink" href="#getting-servererror-jsonrpcerror" title="Link to this heading"></a></h2>
<p><em>Full error</em>: <code class="docutils literal notranslate"><span class="pre">ServerError:</span> <span class="pre">JSONRPCError:</span> <span class="pre">-32601.</span> <span class="pre">Unknown</span> <span class="pre">server</span> <span class="pre">error</span> <span class="pre">(output</span> <span class="pre">data</span> <span class="pre">wasn't</span> <span class="pre">produced)</span></code></p>
<p>This case happens because the python process exits without writing an output file, and then the callback server throws the above error. Make sure your process finishes and writes an output file to avoid this error.</p>
</section>
<section id="unable-to-find-valid-certification">
<h2><a class="toc-backref" href="#id10" role="doc-backlink">Unable to find valid certification</a><a class="headerlink" href="#unable-to-find-valid-certification" title="Link to this heading"></a></h2>
<p>If you get an error on OSX as follows:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>kb-sdk<span class="w"> </span><span class="nb">test</span>
<span class="go">&gt; Validating module in (/Users/user/Module/ExpressionUtils)</span>
<span class="go">&gt; Congrats- this module is valid.</span>
<span class="go">&gt; Error while testing module: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target</span>
<span class="go">&gt; For more help and usage information, run:</span>
<span class="go">&gt;     kb-sdk help</span>
<span class="go">&gt;     (ExpressionUtils)</span>
</pre></div>
</div>
<p>Reinstall the latest version of the KBase SDK</p>
<ul class="simple">
<li><p>Follow instructions at <a class="reference external" href="https://kbase.github.io/kb_sdk_docs/tutorial/2_install.html">https://kbase.github.io/kb_sdk_docs/tutorial/2_install.html</a></p></li>
<li><p>Don’t forget to generate the new <cite>kb-sdk</cite> executable</p></li>
</ul>
<p>Alternatively, generate new security certificates:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>openssl<span class="w"> </span>x509<span class="w"> </span>-in<span class="w"> </span>&lt;<span class="o">(</span>openssl<span class="w"> </span>s_client<span class="w"> </span>-connect<span class="w"> </span>ci.kbase.us:443<span class="w"> </span>-prexit<span class="w"> </span><span class="m">2</span>&gt;/dev/null<span class="o">)</span><span class="w"> </span>-out<span class="w"> </span>~/example.crt
$<span class="w"> </span>sudo<span class="w"> </span>keytool<span class="w"> </span>-importcert<span class="w"> </span>-file<span class="w"> </span>~/example.crt<span class="w"> </span>-alias<span class="w"> </span>example<span class="w"> </span>-keystore<span class="w"> </span><span class="k">$(</span>/usr/libexec/java_home<span class="k">)</span>/jre/lib/security/cacerts<span class="w"> </span>-storepass<span class="w"> </span>changeit
</pre></div>
</div>
</section>
<section id="my-docker-instances-have-run-out-of-space">
<h2><a class="toc-backref" href="#id11" role="doc-backlink">My Docker instances have run out of space</a><a class="headerlink" href="#my-docker-instances-have-run-out-of-space" title="Link to this heading"></a></h2>
<p>Sometimes, an error message might indicate that you’re out of space. Run this check:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span><span class="nb">cd</span><span class="w"> </span>test_local
$<span class="w"> </span>./run_bash.sh
$<span class="w"> </span>df<span class="w"> </span>-h
</pre></div>
</div>
<p>You can free up space by cleaning up containers, images, and volumes. If you end up needing a removed image or container, you can always download and recreate them later.</p>
<p>Remove stopped containers with <code class="docutils literal notranslate"><span class="pre">docker</span> <span class="pre">container</span> <span class="pre">prune</span></code></p>
<p>Remove orphan images with <code class="docutils literal notranslate"><span class="pre">docker</span> <span class="pre">image</span> <span class="pre">prune</span></code></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Don’t use the <code class="docutils literal notranslate"><span class="pre">-a</span></code> flag unless you want to blow away ALL KBase images and have to download them again</p>
</div>
<p>Remove local test images:</p>
<p><code class="docutils literal notranslate"><span class="pre">docker</span> <span class="pre">images</span> <span class="pre">|</span> <span class="pre">grep</span> <span class="pre">-e</span> <span class="pre">'test/'</span> <span class="pre">-e</span> <span class="pre">'none'</span> <span class="pre">|</span> <span class="pre">awk</span> <span class="pre">'{print</span> <span class="pre">$3}'</span> <span class="pre">|</span> <span class="pre">xargs</span> <span class="pre">docker</span> <span class="pre">rmi</span></code></p>
<p>If you encounter this error frequently, adjust how much disk space is allocated
to docker in docker’s global preferences page (described in more detailed in the
following section).</p>
</section>
<section id="my-docker-container-ran-out-of-memory">
<h2><a class="toc-backref" href="#id12" role="doc-backlink">My Docker container ran out of memory</a><a class="headerlink" href="#my-docker-container-ran-out-of-memory" title="Link to this heading"></a></h2>
<p>This is perhaps the hardest to debug because it occurs during a run and dies (almost) silently.
It will typically occur when handling (multiple) large workspace objects such as plant genomes.
One way to figure out that it has happened is that the keyword “Killed” is printed.</p>
<p>If you suspect that your container is running out of memory, you may adjust
your Docker resource settings to alleviate the problem.</p>
<p>Go to the global preferences for Docker and click on “Advanced”. There, you
can increase the amount of memory available to the containers.</p>
<figure class="align-center" id="id1">
<a class="reference internal image-reference" href="../_images/docker_advanced.png"><img alt="../_images/docker_advanced.png" src="../_images/docker_advanced.png" style="width: 50%;" /></a>
<figcaption>
<p><span class="caption-text">Advanced preferences in Docker for OS X.</span><a class="headerlink" href="#id1" title="Link to this image"></a></p>
</figcaption>
</figure>
</section>
<section id="error-messages-and-solutions">
<h2><a class="toc-backref" href="#id13" role="doc-backlink">Error Messages and Solutions</a><a class="headerlink" href="#error-messages-and-solutions" title="Link to this heading"></a></h2>
<section id="error-keyerror-getpwuid-uid-not-found">
<h3><a class="toc-backref" href="#id14" role="doc-backlink">Error: <code class="code docutils literal notranslate"><span class="pre">KeyError:</span> <span class="pre">'getpwuid()'</span> <span class="pre">uid</span> <span class="pre">not</span> <span class="pre">found</span></code></a><a class="headerlink" href="#error-keyerror-getpwuid-uid-not-found" title="Link to this heading"></a></h3>
<p>This error occurs when host user IDs (UIDs) do not match the container’s UIDs. The user ID is stored in your <code class="code docutils literal notranslate"><span class="pre">~/.kbsdk.cache</span></code>.
Please clear out the cache with the command <code class="code docutils literal notranslate"><span class="pre">rm</span> <span class="pre">-rf</span> <span class="pre">~/.kbsdk.cache</span></code> and try again. Otherwise try the following:</p>
<section id="solution-modify-the-uid-in-the-test-scripts">
<h4><a class="toc-backref" href="#id15" role="doc-backlink">Solution: Modify the UID in the test scripts</a><a class="headerlink" href="#solution-modify-the-uid-in-the-test-scripts" title="Link to this heading"></a></h4>
<ol class="arabic simple">
<li><p>Modify the following scripts in the <cite>test_local</cite> directory:</p></li>
</ol>
<ul class="simple">
<li><p><cite>run_tests.sh</cite></p></li>
<li><p><cite>run_bash.sh</cite></p></li>
<li><p><cite>run_subjobs.sh</cite></p></li>
</ul>
<ol class="arabic simple" start="2">
<li><p>Change the user flag to <code class="code docutils literal notranslate"><span class="pre">--user</span> <span class="pre">0</span></code> to run as root, which should bypass the UID issues:</p></li>
</ol>
<ul class="simple">
<li><p>Example, change <code class="code docutils literal notranslate"><span class="pre">./run_tests.sh</span> <span class="pre">--user</span> <span class="pre">$(id</span> <span class="pre">-u)</span></code> to <code class="code docutils literal notranslate"><span class="pre">./run_tests.sh</span> <span class="pre">--user</span> <span class="pre">0</span></code>.</p></li>
</ul>
<ol class="arabic simple" start="3">
<li><p>If the problem persists, consider removing the <code class="code docutils literal notranslate"><span class="pre">--user</span></code> flag altogether.</p></li>
</ol>
</section>
</section>
<section id="error-can-t-find-image-test-your-module-name-latest">
<h3><a class="toc-backref" href="#id16" role="doc-backlink">Error: <code class="code docutils literal notranslate"><span class="pre">Can't</span> <span class="pre">find</span> <span class="pre">image</span> <span class="pre">[test/&lt;your_module_name&gt;:latest]</span></code></a><a class="headerlink" href="#error-can-t-find-image-test-your-module-name-latest" title="Link to this heading"></a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>Error:<span class="w"> </span><span class="s2">&quot;Can&#39;t find image [test/&lt;your_module_name&gt;:latest]</span>
<span class="s2">Here is &#39;docker images&#39; output: Cannot connect to the Docker daemon.</span>
<span class="s2">Is the docker daemon running on this host?</span>
</pre></div>
</div>
<p>This error indicates that Docker is either not running or not reachable, which prevents Docker commands from executing properly.</p>
<section id="solution-fix-docker-daemon-socket-permissions">
<h4><a class="toc-backref" href="#id17" role="doc-backlink">Solution: Fix Docker Daemon Socket Permissions</a><a class="headerlink" href="#solution-fix-docker-daemon-socket-permissions" title="Link to this heading"></a></h4>
<ol class="arabic simple">
<li><p>Ensure that the Docker daemon is running on your host.</p></li>
</ol>
<p>2. Modify the permissions of the Docker socket to allow group write access, which should resolve connection issues
<code class="code docutils literal notranslate"><span class="pre">docker</span> <span class="pre">run</span> <span class="pre">-it</span> <span class="pre">-v</span> <span class="pre">/var/run/docker.sock:/var/run/docker.sock</span> <span class="pre">alpine</span> <span class="pre">chmod</span> <span class="pre">g+w</span> <span class="pre">/var/run/docker.sock</span></code></p>
<ol class="arabic simple" start="3">
<li><p>Clear your <cite>kb_sdk</cite> cache with the command <code class="code docutils literal notranslate"><span class="pre">rm</span> <span class="pre">-rf</span> <span class="pre">~/.kbsdk.cache</span></code> and try running your <cite>kb-sdk</cite> command again.</p></li>
</ol>
</section>
</section>
<section id="error-client-version-1-23-is-too-old">
<h3><a class="toc-backref" href="#id18" role="doc-backlink">Error: client version 1.23 is too old.</a><a class="headerlink" href="#error-client-version-1-23-is-too-old" title="Link to this heading"></a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>Error<span class="w"> </span>response<span class="w"> </span>from<span class="w"> </span>daemon:<span class="w"> </span>client<span class="w"> </span>version<span class="w"> </span><span class="m">1</span>.23<span class="w"> </span>is<span class="w"> </span>too<span class="w"> </span>old.
Minimum<span class="w"> </span>supported<span class="w"> </span>API<span class="w"> </span>version<span class="w"> </span>is<span class="w"> </span><span class="m">1</span>.24,<span class="w"> </span>please<span class="w"> </span>upgrade<span class="w"> </span>your<span class="w"> </span>client<span class="w"> </span>to<span class="w"> </span>a<span class="w"> </span>newer<span class="w"> </span>version
</pre></div>
</div>
<section id="solution-downgrade-to-a-supported-docker-desktop-version">
<h4><a class="toc-backref" href="#id19" role="doc-backlink">Solution: Downgrade to a supported Docker Desktop version</a><a class="headerlink" href="#solution-downgrade-to-a-supported-docker-desktop-version" title="Link to this heading"></a></h4>
<ol class="arabic simple">
<li><p><code class="code docutils literal notranslate"><span class="pre">kb-sdk</span></code> is not supported on new Docker Desktop versions. If you encounter this error, downgrade your Docker Desktop to version 4.24.0 or lower.</p></li>
<li><p>Alternatively, you can use other Docker tools like <a href="https://rancherdesktop.io/" target="_blank">Rancher Desktop</a>, <a href="https://podman.io/" target="_blank">Podman</a>, or <a href="https://github.com/abiosoft/colima" target="_blank">Colima</a>.</p></li>
</ol>
</section>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="design_checklist.html" class="btn btn-neutral float-left" title="Design Checklist" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="dev_guidelines.html" class="btn btn-neutral float-right" title="Developer Guidelines" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2018, KBase.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>