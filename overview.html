<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Concepts and Overview &mdash; KBase SDK 1.2.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="_static/css/custom.css?v=28f99aa0" />

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js?v=5d32c60e"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="_static/documentation_options.js?v=6efca38a"></script>
        <script src="_static/doctools.js?v=9a2dae69"></script>
        <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Video Tutorial" href="video_tutorial.html" />
    <link rel="prev" title="KBase SDK Documentation" href="index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            KBase SDK
              <img src="_static/logo.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                1.2
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Intro</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Concepts and Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="video_tutorial.html">Video Tutorial</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Tutorial</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="tutorial/1_dependencies.html">1. Dependencies &amp; Prerequisites</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial/2_install.html">2. Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial/3_initialize.html">3. Initialize the Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial/4_helloworld.html">4. Hello World Example</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial/5_setup.html">5. ContigFilter Example</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial/6_inputsoutputs.html">6. Narrative User Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial/7_implement.html">7. Implement Code</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial/8_publish.html">8. Publish and Update</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Developer Guides</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="references/questions_and_answers.html">Common Questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="howtos/create_a_report.html">Creating reports</a></li>
<li class="toctree-l1"><a class="reference internal" href="howtos/add_ui_elements.html">Adding UI Elements</a></li>
<li class="toctree-l1"><a class="reference internal" href="howtos/edit_your_dockerfile.html">Editing your app’s Dockerfile</a></li>
<li class="toctree-l1"><a class="reference internal" href="howtos/fill_out_app_information.html">Fully documenting your app</a></li>
<li class="toctree-l1"><a class="reference internal" href="howtos/run_a_shell_command.html">Running shell commands</a></li>
<li class="toctree-l1"><a class="reference internal" href="howtos/file_utils.html">Working with the file utils</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Advanced Guides</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="howtos/workspace.html">Using Workspace Metadata</a></li>
<li class="toctree-l1"><a class="reference internal" href="howtos/manual_build.html">Manually building the SDK</a></li>
<li class="toctree-l1"><a class="reference internal" href="howtos/work_with_reference_data.html">Working with reference data</a></li>
<li class="toctree-l1"><a class="reference internal" href="howtos/job_manager.html">Listing and viewing jobs</a></li>
<li class="toctree-l1"><a class="reference internal" href="howtos/dynamic_services.html">Dynamic Services</a></li>
<li class="toctree-l1"><a class="reference internal" href="howtos/update_to_py3.html">Updating a module to Python3</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">References &amp; Resources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="references/design_checklist.html">Design Checklist</a></li>
<li class="toctree-l1"><a class="reference internal" href="references/troubleshooting.html">Troubleshooting Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="references/dev_guidelines.html">Developer Guidelines</a></li>
<li class="toctree-l1"><a class="reference internal" href="references/execution_engine.html">Job Execution</a></li>
<li class="toctree-l1"><a class="reference internal" href="references/module_anatomy.html">Anatomy of a Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="references/KIDL_spec.html">KIDL Specification</a></li>
<li class="toctree-l1"><a class="reference internal" href="references/UI_spec.html">Narrative App UI Specification</a></li>
<li class="toctree-l1"><a class="reference internal" href="references/terminology.html">Terminology</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">KBase SDK</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Concepts and Overview</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/kbase/kb_sdk_docs/blob/blob/master/source/overview.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="concepts-and-overview">
<h1>Concepts and Overview<a class="headerlink" href="#concepts-and-overview" title="Link to this heading"></a></h1>
<p>This page gives a high-level overview of how the SDK works and the general concepts involved in making and running apps.</p>
<section id="the-basics">
<h2>The Basics<a class="headerlink" href="#the-basics" title="Link to this heading"></a></h2>
<img alt="_images/micro1.png" class="align-right" src="_images/micro1.png" />
<p>Apps on KBase, such as genome assemblers and annotators that run on narrative pages, are created using the KBase SDK.</p>
<p>When you run an app in a narrative, it runs in a docker container on KBase’s servers. Learn more about docker containers here: <a href="https://www.docker.com/what-container" target="_blank">https://www.docker.com/what-container</a>. Docker containers allow you to package and compile programs and dependencies, such as <a href="https://github.com/voutcn/megahit" target="_blank">MEGAHIT </a>, and run them anywhere.</p>
<p>As an SDK developer, you define your input parameter types, the packages and programs to run, and the output types, text, and HTML to show the user when the app finishes. To help facilitate development, a <code class="docutils literal notranslate"><span class="pre">kb-sdk</span></code> command-line utility is provided.</p>
</section>
<section id="the-workflow">
<h2>The Workflow<a class="headerlink" href="#the-workflow" title="Link to this heading"></a></h2>
<p>When a python SDK app runs in a narrative, it typically follows this workflow, which we’ll describe in more detail below.</p>
<a class="reference internal image-reference" href="_images/concept-map.svg"><img alt="_images/concept-map.svg" src="_images/concept-map.svg" /></a>
<section id="user-input">
<h3>User Input<a class="headerlink" href="#user-input" title="Link to this heading"></a></h3>
<p>In the first page of a narrative app, users have a set of form elements that can be customized to accept many kinds of data. An example might be a genome assembly algorithm that takes a dataset of DNA reads and a minimum kmer size.</p>
<p>As an app developer, you can configure the elements of the form using a wide range of options. For parameters that refer to larger data sets, such as genomes, these will be passed into your app as <em>references</em>, which you can think of as simple URLs used to download the actual files.</p>
</section>
<section id="app-code-and-data-management">
<h3>App Code and Data Management<a class="headerlink" href="#app-code-and-data-management" title="Link to this heading"></a></h3>
<p>Input from the app’s form is converted into a python dictionary and passed into a main method in your app. Typically, apps will perform a set of validation checks on the input to make sure everything is well-formed before running any algorithms.</p>
<p>From here, you can call out to utilities, run binary programs, and work with the file-system.</p>
</section>
<section id="output-and-reporting">
<h3>Output and Reporting<a class="headerlink" href="#output-and-reporting" title="Link to this heading"></a></h3>
<p>When an app finishes producing data, it will typically form a <a href="https://github.com/kbaseapps/KBaseReport" target="_blank">KBaseReport </a> object that can contain a number of different things:</p>
<ul class="simple">
<li><p>A formatted HTML page showing results</p></li>
<li><p>Links to files, such as PDFs, CSVs, etc. that your app produced</p></li>
<li><p>Links to saved, typed output objects, such as annotated or assembled genomes</p></li>
<li><p>Simple text messages and warnings about the results</p></li>
</ul>
</section>
</section>
<section id="command-line-interface">
<h2>Command-line Interface<a class="headerlink" href="#command-line-interface" title="Link to this heading"></a></h2>
<p>A command-line interface, called <code class="docutils literal notranslate"><span class="pre">kb-sdk</span></code>, is provided to make it easy to initialize, validate, compile, and test your app.</p>
</section>
<section id="docker">
<h2>Docker<a class="headerlink" href="#docker" title="Link to this heading"></a></h2>
<p>The KBase SDK makes extensive use of Docker containers. The apps themselves run inside custom Docker images. The CLI, <code class="docutils literal notranslate"><span class="pre">kb-sdk</span></code>, also runs within a Docker container.</p>
<p>Using docker as the basic modular unit allows apps to run in different environments using custom dependencies. Also, apps written in different languages can use each other as dependencies.</p>
</section>
<section id="composing-apps">
<h2>Composing apps<a class="headerlink" href="#composing-apps" title="Link to this heading"></a></h2>
<p>Your app can install and use other KBase apps as dependencies, such as <a href="https://github.com/kbaseapps/KBParallel" target="_blank">KBParallel</a>. Find these apps in github at <a href="https://github.com/kbaseapps" target="_blank">https://github.com/kbaseapps</a>  or in the <a href="https://narrative.kbase.us/#catalog/apps" target="_blank">KBase app catalog</a>.</p>
<p>When you install and run another app within yours, the other app runs in its own, separate docker container. SDK apps are also installed and tracked separately from any python dependencies that you install via <cite>pip</cite> or other package managers.</p>
</section>
<section id="kbase-types-and-parameters">
<h2>KBase Types and Parameters<a class="headerlink" href="#kbase-types-and-parameters" title="Link to this heading"></a></h2>
<p>All of the data on KBase is strongly typed using an interface definition language called <a href="references/KIDL_spec.html" target="_blank">KIDL </a>. This allows KBase to better cross-reference data, make inferences, and check app-to-data compatibility.</p>
<p>Configuration files in your app are used to define what parameters your app can accept and what kind of output it can return.</p>
</section>
<section id="working-with-files-and-data">
<h2>Working with files and data<a class="headerlink" href="#working-with-files-and-data" title="Link to this heading"></a></h2>
<section id="scratch">
<h3>Scratch<a class="headerlink" href="#scratch" title="Link to this heading"></a></h3>
<p>Since SDK apps often run inside multiple docker containers, you have to store files in a special location that all containers have access to: <strong>scratch</strong>. Scratch is set to a directory running inside your app’s docker container and is accessed from a special configuration variable in your app source code. This scratch directory is accessible to your app as long as it’s running.</p>
<p><strong>Scratch is ephemeral</strong> – any files in the scratch directory are gone when your app stops running. To save files persistently (for example, to use in your report), you need to use <strong>Workspaces</strong></p>
</section>
<section id="the-workspace">
<h3>The Workspace<a class="headerlink" href="#the-workspace" title="Link to this heading"></a></h3>
<p>The “Workspace” is the term used for the file storage servers used by KBase. For Python SDK apps, you can use apps such as <a href="https://github.com/kbaseapps/DataFileUtil" target="_blank">DataFileUtil</a>, <a href="https://github.com/kbaseapps/AssemblyUtil" target="_blank">AssemblyUtil</a>, and <a href="https://github.com/kbaseapps/GenomeFileUtil" target="_blank">GenomeFileUtil</a> to download and upload files to the workspace.</p>
<p>In general, you always want to use the workspace for any datasets you work with if you want them to be available to your users in the narrative.</p>
<p>A dataset stored in the workspace is referred to as an <em>object</em>. Objects in the workspace have some special properties:</p>
<ul class="simple">
<li><p>Every object conforms to a <a href="references/KIDL_spec.html" target="_blank">type specification</a>.</p></li>
<li><p>Objects are versioned</p></li>
<li><p>The “reference” for an object has the format <code class="docutils literal notranslate"><span class="pre">workspace_id/object_id/version</span></code>.</p></li>
<li><p>Workspaces are authenticated</p></li>
</ul>
</section>
</section>
<section id="the-catalog">
<h2>The Catalog<a class="headerlink" href="#the-catalog" title="Link to this heading"></a></h2>
<p>KBase’s catalogs are registries of KBase apps. In order to find and use an app from within a narrative, it has to be registered in one of these catalogs. You can manage an app’s registration from its module page on the KBase website.</p>
<p>There are three separate catalogs for testing purposes: <cite>dev</cite>, <cite>beta</cite>, and <cite>release</cite>.</p>
<ul class="simple">
<li><p><cite>dev</cite>: Prototype and tweak your app within the narrative</p></li>
<li><p><cite>beta</cite>: The app is ready for release but requires testing</p></li>
<li><p><cite>release</cite>: The app is visible to normal KBase users</p></li>
</ul>
</section>
<section id="publishing">
<h2>Publishing<a class="headerlink" href="#publishing" title="Link to this heading"></a></h2>
<p>You can register a new app from this page: <a href="https://appdev.kbase.us/#appcatalog/register" target="_blank">https://appdev.kbase.us/#appcatalog/register</a></p>
<p>Once you do so, it will be available in the <code class="docutils literal notranslate"><span class="pre">dev</span></code> catalog. This catalog is meant as experimentation grounds for new apps. When you’re searching for apps, you need to be sure to filter by the development catalog to view your <code class="docutils literal notranslate"><span class="pre">dev</span></code> app.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="index.html" class="btn btn-neutral float-left" title="KBase SDK Documentation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="video_tutorial.html" class="btn btn-neutral float-right" title="Video Tutorial" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2018, KBase.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>